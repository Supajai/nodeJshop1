<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile | PROKICKS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Inter:wght@300;400;500;600;800;900&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .font-anton {
            font-family: 'Anton', sans-serif;
            letter-spacing: 0.05em;
        }
    </style>
</head>

<body class="bg-gray-50 text-slate-900 antialiased selection:bg-black selection:text-white">

    <!-- Navbar -->
    <nav
        class="fixed top-0 w-full z-50 bg-white/90 backdrop-blur-xl border-b border-gray-100 transition-all duration-300">
        <div class="container mx-auto px-4 md:px-6 h-20 flex justify-between items-center">
            <a href="index.html"
                class="text-3xl font-anton italic tracking-tighter hover:scale-105 transition-transform duration-300 flex-shrink-0">
                PRO<span class="text-red-600">KICKS</span>
            </a>
            <div class="flex items-center gap-6">
                <div id="auth-menu"
                    class="text-[10px] md:text-[11px] font-black uppercase tracking-widest text-gray-900 hover:text-red-600 transition cursor-pointer">
                </div>
                <a href="cart.html" class="group flex items-center gap-1 relative">
                    <div
                        class="relative p-2 bg-gray-50 rounded-full group-hover:bg-black transition-colors duration-300">
                        <svg class="w-5 h-5 text-black group-hover:text-white transition-colors" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                        </svg>
                        <span id="cart-badge"
                            class="absolute -top-1 -right-1 bg-red-600 text-white w-4 h-4 rounded-full flex items-center justify-center text-[9px] font-bold shadow-sm ring-2 ring-white hidden">0</span>
                    </div>
                </a>
            </div>
        </div>
    </nav>

    <div class="pt-32 pb-12 container mx-auto px-4 min-h-screen">
        <div class="max-w-4xl mx-auto">

            <!-- Back Button -->
            <div class="mb-8">
                <a href="index.html"
                    class="inline-flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-gray-400 hover:text-black transition">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                    </svg>
                    Back to Shop
                </a>
            </div>

            <!-- Profile Header -->
            <div
                class="bg-white rounded-2xl p-8 shadow-sm border border-gray-100 mb-8 flex flex-col md:flex-row items-center md:items-start gap-8">
                <div
                    class="w-24 h-24 rounded-full bg-gray-100 flex items-center justify-center text-4xl font-anton text-gray-300">
                    <!-- Initials or Placeholder -->
                    <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                </div>
                <div class="flex-1 text-center md:text-left">
                    <h1 class="text-3xl md:text-4xl font-anton uppercase italic mb-1">My <span
                            class="text-red-600">Profile</span></h1>
                    <p class="text-sm font-bold text-gray-500 mb-6" id="user-email">Loading...</p>

                    <button onclick="logout()"
                        class="px-6 py-2 bg-black text-white text-[10px] font-black uppercase tracking-widest rounded-full hover:bg-red-600 transition shadow-lg shadow-black/20 hover:shadow-red-600/30">
                        Sign Out
                    </button>
                </div>

                <!-- Quick Stats (Optional but nice) -->
                <div
                    class="flex gap-8 text-center border-t md:border-t-0 md:border-l border-gray-100 pt-6 md:pt-0 md:pl-8 mt-6 md:mt-0 w-full md:w-auto justify-center">
                    <div>
                        <div class="text-2xl font-anton text-black" id="total-orders-count">0</div>
                        <div class="text-[9px] font-bold text-gray-400 uppercase tracking-widest">Orders</div>
                    </div>
                    <div>
                        <div class="text-2xl font-anton text-black" id="total-spent-amount">à¸¿0</div>
                        <div class="text-[9px] font-bold text-gray-400 uppercase tracking-widest">Spent</div>
                    </div>
                </div>
            </div>

            <!-- Orders Section -->
            <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                <div class="p-6 border-b border-gray-100 flex items-center justify-between bg-gray-50/50">
                    <h2 class="font-bold text-lg flex items-center gap-2">
                        <svg class="w-5 h-5 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10">
                            </path>
                        </svg>
                        Order History
                    </h2>
                    <span class="text-[10px] font-bold text-gray-400 uppercase tracking-wider">Recent Activity</span>
                </div>

                <div class="overflow-x-auto">
                    <table class="w-full text-left whitespace-nowrap">
                        <thead class="bg-gray-50 text-[10px] font-black uppercase text-gray-500 tracking-widest">
                            <tr>
                                <th class="p-5">Order #</th>
                                <th class="p-5">Date</th>
                                <th class="p-5">Summary</th>
                                <th class="p-5">Total</th>
                                <th class="p-5">Status</th>
                            </tr>
                        </thead>
                        <tbody id="order-list" class="divide-y divide-gray-100 text-sm font-medium">
                            <!-- Orders will be rendered here -->
                            <tr>
                                <td colspan="5"
                                    class="p-12 text-center text-gray-300 text-xs font-bold uppercase tracking-wider animate-pulse">
                                    Loading data...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="fixed bottom-5 right-5 z-[100] flex flex-col gap-2"></div>

    <script src="js/utils.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/profile.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            checkAuthUI();
            const email = localStorage.getItem('email') || localStorage.getItem('username');
            if (email) document.getElementById('user-email').innerText = email;
            else window.location.href = 'login.html';
        });
    </script>
</body>

</html>